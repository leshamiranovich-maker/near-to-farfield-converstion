# Near-Field to Far-Field Transformation for Planar Antenna Measurements

## Назначение программы
Программа выполняет преобразование результатов планарных измерений антенны в ближней зоне в диаграмму направленности в дальней зоне с компенсацией влияния измерительного зонда.

## Физические основы
Метод основан на технике планарного сканирования в ближней зоне:

- Измерения комплексных амплитуд поля на двух ортогональных поляризациях
- Применение 2D преобразования Фурье для перехода в спектральную область
- Компенсация характеристик зонда в угловом спектре
- Расчет ко- и кроссполяризационных компонент по стандарту IEEE (Ludwig-3)
- Преобразование в дальнюю зону с учетом волновых ограничений

## Требования к данным

### Входные файлы:

**Данные измерений антенны:**
- `rupor6_Probe_X.s2p` - S-параметры для X-поляризации
- `rupor6_Probe_Y.s2p` - S-параметры для Y-поляризации
- `rupor6_Probe_X.txt` - координатная сетка для X-поляризации
- `rupor6_Probe_Y.txt` - координатная сетка для Y-поляризации

**Данные зонда для компенсации:**
- `CST_RP_new_probe_WR62_20_001_freq_12.mat` - файл MATLAB с характеристиками направленности зонда

### Формат данных:
**Координатные файлы:** CSV с разделителем `;`, координаты в метрах

**S-параметры:** Touchstone format (.s2p), частота 12 ГГц

**Данные зонда:** MAT-файл содержит комплексные диаграммы направленности зонда для двух поляризаций

Структура MAT-файла:
- `phiCST_fin_new` - массив азимутальных углов φ
- `thetaCST_fin_new` - массив углов места θ  
- `RP_phi_CST_Xpol_norm` - нормированная Eφ-компонента для X-поляризации зонда
- `RP_phi_CST_Ypol_norm` - нормированная Eφ-компонента для Y-поляризации зонда
- `RP_theta_CST_Xpol_norm` - нормированная Eθ-компонента для X-поляризации зонда
- `RP_theta_CST_Ypol_norm` - нормированная Eθ-компонента для Y-поляризации зонда

## Запуск программы
1. Запустить файл "Experiment_DN.py"
2. По умолчанию в файле уже используются необходимые для перерасчета данные антенны и зонда

## Пример полученных результатов (названия графиков указаны на изображениях)

<img width="1817" height="1038" alt="image" src="https://github.com/user-attachments/assets/5d74c322-d604-427d-8ee1-e4c713c13a1c" />
<img width="1618" height="936" alt="image" src="https://github.com/user-attachments/assets/fe51b7b9-9069-42f5-8d7e-a3f58fc0e5d3" />
<img width="1612" height="948" alt="image" src="https://github.com/user-attachments/assets/dc31b294-717c-4a97-ba51-039d8c5d45dc" />
<img width="1556" height="929" alt="image" src="https://github.com/user-attachments/assets/f0d1b616-6744-4447-8c49-748505a576ec" />
<img width="1901" height="1027" alt="image" src="https://github.com/user-attachments/assets/b836216d-9b89-4ab6-8388-86f220b8e2e3" />
<img width="1920" height="1022" alt="image" src="https://github.com/user-attachments/assets/d296e6af-5e97-418e-9f76-f4340e3005b2" />
